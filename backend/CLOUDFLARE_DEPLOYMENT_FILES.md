# Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ù„Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Cloudflare

## ğŸ“¦ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Cloudflare Workers ÙŠÙ‚ÙˆÙ… Ø¨Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ØŒ Ù„Ø°Ù„Ùƒ **Ù„Ø§ ØªØ­ØªØ§Ø¬** Ù„Ø±ÙØ¹ Ù…Ù„ÙØ§Øª Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø£Ùˆ `node_modules`.

---

## âœ… Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙŠ ØªÙØ±ÙØ¹ Ø¥Ù„Ù‰ Cloudflare

### 1. Ù…Ù„ÙØ§Øª Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ØµØ¯Ø±ÙŠ (Source Files)

```
backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts              âœ… ÙŠÙØ±ÙØ¹ (Entry point)
â”‚   â”œâ”€â”€ GameRoom.ts           âœ… ÙŠÙØ±ÙØ¹ (Durable Object)
â”‚   â””â”€â”€ TournamentRoom.ts     âœ… ÙŠÙØ±ÙØ¹ (Durable Object)
```

**Ø§Ù„Ø³Ø¨Ø¨:** Ù‡Ø°Ù‡ Ù‡ÙŠ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ÙØ¹Ù„ÙŠ.

---

### 2. Ù…Ù„ÙØ§Øª Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª (Configuration Files)

```
backend/
â”œâ”€â”€ package.json              âœ… ÙŠÙØ±ÙØ¹ (Dependencies & scripts)
â”œâ”€â”€ wrangler.toml             âœ… ÙŠÙØ±ÙØ¹ (Cloudflare config)
â””â”€â”€ tsconfig.json             âœ… ÙŠÙØ±ÙØ¹ (TypeScript config)
```

**Ø§Ù„Ø³Ø¨Ø¨:**
- `package.json`: ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© dependencies
- `wrangler.toml`: Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Cloudflare Workers (Durable Objects, KV, etc.)
- `tsconfig.json`: Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª TypeScript Ù„Ù„Ø¨Ù†Ø§Ø¡

---

### 3. Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙˆØ«ÙŠÙ‚ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ - Ù„Ø§ ÙŠÙØ±ÙØ¹)

```
backend/
â”œâ”€â”€ README.md                 âŒ Ù„Ø§ ÙŠÙØ±ÙØ¹ (Ù„Ù„ØªÙˆØ«ÙŠÙ‚ ÙÙ‚Ø·)
â”œâ”€â”€ DEPLOYMENT_GUIDE.md       âŒ Ù„Ø§ ÙŠÙØ±ÙØ¹ (Ù„Ù„ØªÙˆØ«ÙŠÙ‚ ÙÙ‚Ø·)
â””â”€â”€ test/                     âŒ Ù„Ø§ ÙŠÙØ±ÙØ¹ (Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ø­Ù„ÙŠ ÙÙ‚Ø·)
```

**Ø§Ù„Ø³Ø¨Ø¨:** Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù„ÙØ§Øª Ù„Ù„ØªÙˆØ«ÙŠÙ‚ ÙˆØ§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ø­Ù„ÙŠ ÙÙ‚Ø·.

---

## âŒ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙŠ Ù„Ø§ ØªÙØ±ÙØ¹

### 1. node_modules/

```
backend/
â””â”€â”€ node_modules/             âŒ Ù„Ø§ ÙŠÙØ±ÙØ¹ (ÙŠØªÙ… ØªØ«Ø¨ÙŠØªÙ‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)
```

**Ø§Ù„Ø³Ø¨Ø¨:** Cloudflare Workers ÙŠÙ‚ÙˆÙ… Ø¨ØªØ«Ø¨ÙŠØª dependencies ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† `package.json`.

---

### 2. Ù…Ù„ÙØ§Øª Ø§Ù„Ø¨Ù†Ø§Ø¡ (Build Files)

```
backend/
â”œâ”€â”€ dist/                     âŒ Ù„Ø§ ÙŠÙØ±ÙØ¹ (ÙŠØªÙ… Ø¨Ù†Ø§Ø¤Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)
â”œâ”€â”€ build/                    âŒ Ù„Ø§ ÙŠÙØ±ÙØ¹ (ÙŠØªÙ… Ø¨Ù†Ø§Ø¤Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)
â””â”€â”€ *.js                      âŒ Ù„Ø§ ÙŠÙØ±ÙØ¹ (ÙŠØªÙ… Ø¨Ù†Ø§Ø¤Ù‡ Ù…Ù† TypeScript)
```

**Ø§Ù„Ø³Ø¨Ø¨:** Wrangler ÙŠÙ‚ÙˆÙ… Ø¨Ø¨Ù†Ø§Ø¡ TypeScript â†’ JavaScript ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.

---

### 3. Ù…Ù„ÙØ§Øª Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø­Ù„ÙŠ

```
backend/
â”œâ”€â”€ .wrangler/                âŒ Ù„Ø§ ÙŠÙØ±ÙØ¹ (cache Ù…Ø­Ù„ÙŠ)
â”œâ”€â”€ .dev.vars                 âŒ Ù„Ø§ ÙŠÙØ±ÙØ¹ (Ù…ØªØºÙŠØ±Ø§Øª Ù…Ø­Ù„ÙŠØ©)
â””â”€â”€ .env                      âŒ Ù„Ø§ ÙŠÙØ±ÙØ¹ (Ù…ØªØºÙŠØ±Ø§Øª Ù…Ø­Ù„ÙŠØ©)
```

**Ø§Ù„Ø³Ø¨Ø¨:** Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù„ÙØ§Øª Ø®Ø§ØµØ© Ø¨Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø­Ù„ÙŠ ÙÙ‚Ø·.

---

## ğŸ”„ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ

Ø¹Ù†Ø¯ ØªØ´ØºÙŠÙ„ `wrangler deploy`ØŒ ÙŠØ­Ø¯Ø« Ø§Ù„ØªØ§Ù„ÙŠ:

1. **Ù‚Ø±Ø§Ø¡Ø© `package.json`** â†’ ØªØ«Ø¨ÙŠØª dependencies
2. **Ù‚Ø±Ø§Ø¡Ø© `tsconfig.json`** â†’ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª TypeScript
3. **Ø¨Ù†Ø§Ø¡ TypeScript** â†’ ØªØ­ÙˆÙŠÙ„ `.ts` Ø¥Ù„Ù‰ `.js`
4. **Ù‚Ø±Ø§Ø¡Ø© `wrangler.toml`** â†’ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Cloudflare
5. **Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª** â†’ Ø±ÙØ¹ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø¥Ù„Ù‰ Cloudflare
6. **ØªÙØ¹ÙŠÙ„ Worker** â†’ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù… Ø¹Ù„Ù‰ Cloudflare

**Ø§Ù„Ù†ØªÙŠØ¬Ø©:** Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„Ø¨Ù†Ø§Ø¡ ÙŠØ¯ÙˆÙŠ! ğŸ‰

---

## ğŸ“‹ Checklist Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø´Ø±

### Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:

- [ ] `backend/src/index.ts` Ù…ÙˆØ¬ÙˆØ¯
- [ ] `backend/src/GameRoom.ts` Ù…ÙˆØ¬ÙˆØ¯
- [ ] `backend/src/TournamentRoom.ts` Ù…ÙˆØ¬ÙˆØ¯
- [ ] `backend/package.json` Ù…ÙˆØ¬ÙˆØ¯ ÙˆØµØ­ÙŠØ­
- [ ] `backend/wrangler.toml` Ù…ÙˆØ¬ÙˆØ¯ ÙˆÙ…ÙØ¹Ø¯
- [ ] `backend/tsconfig.json` Ù…ÙˆØ¬ÙˆØ¯

### Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª:

- [ ] `wrangler.toml` ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Durable Objects bindings
- [ ] `wrangler.toml` ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ KV Namespaces (Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±)
- [ ] `package.json` ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ dependencies

---

## ğŸš€ Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù†Ø´Ø±

### 1. Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ù…Ø¬Ù„Ø¯ backend

```bash
cd backend
```

### 2. Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªØ«Ø¨ÙŠØª dependencies

```bash
npm install
```

### 3. ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙÙŠ Cloudflare

```bash
wrangler login
```

### 4. Ø§Ù„Ù†Ø´Ø±

```bash
wrangler deploy
```

**Ù…Ø§ ÙŠØ­Ø¯Ø«:**
- âœ… Ø¨Ù†Ø§Ø¡ TypeScript ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
- âœ… Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ÙÙ‚Ø·
- âœ… ØªÙØ¹ÙŠÙ„ Worker Ø¹Ù„Ù‰ Cloudflare

---

## ğŸ“ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„ÙƒØ§Ù…Ù„

```
mysterylink/
â”œâ”€â”€ backend/                  â† Ù…Ø¬Ù„Ø¯ Backend
â”‚   â”œâ”€â”€ src/                  â† âœ… ÙŠÙØ±ÙØ¹
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ GameRoom.ts
â”‚   â”‚   â””â”€â”€ TournamentRoom.ts
â”‚   â”œâ”€â”€ package.json          â† âœ… ÙŠÙØ±ÙØ¹
â”‚   â”œâ”€â”€ wrangler.toml         â† âœ… ÙŠÙØ±ÙØ¹
â”‚   â”œâ”€â”€ tsconfig.json         â† âœ… ÙŠÙØ±ÙØ¹
â”‚   â”œâ”€â”€ node_modules/         â† âŒ Ù„Ø§ ÙŠÙØ±ÙØ¹ (ÙŠÙØ«Ø¨Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)
â”‚   â”œâ”€â”€ test/                 â† âŒ Ù„Ø§ ÙŠÙØ±ÙØ¹ (Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙÙ‚Ø·)
â”‚   â””â”€â”€ *.md                  â† âŒ Ù„Ø§ ÙŠÙØ±ÙØ¹ (Ù„Ù„ØªÙˆØ«ÙŠÙ‚ ÙÙ‚Ø·)
â”‚
â””â”€â”€ lib/                      â† Flutter app (Ù„Ø§ ÙŠÙØ±ÙØ¹ Ø¥Ù„Ù‰ Cloudflare)
    â””â”€â”€ ...
```

---

## ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª

### Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø´Ø±ØŒ ØªØ­Ù‚Ù‚ Ù…Ù†:

```bash
# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
cd backend
ls src/          # ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ index.ts, GameRoom.ts, TournamentRoom.ts
ls package.json   # ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
ls wrangler.toml  # ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
ls tsconfig.json  # ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
```

### Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª:

```bash
# Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ù†Ø§Ø¡ (Ø¨Ø¯ÙˆÙ† Ù†Ø´Ø±)
wrangler deploy --dry-run

# Ø£Ùˆ
npm run build
```

---

## ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©

### 1. Ø­Ø¬Ù… Ø§Ù„Ù…Ù„ÙØ§Øª

- **Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©:** ØµØºÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ (Ø¨Ø¶Ø¹Ø© ÙƒÙŠÙ„ÙˆØ¨Ø§ÙŠØª)
- **node_modules:** Ù„Ø§ ÙŠÙØ±ÙØ¹ (ÙŠØªÙ… ØªØ«Ø¨ÙŠØªÙ‡ Ø¹Ù„Ù‰ Cloudflare)
- **Ø§Ù„Ø¨Ù†Ø§Ø¡:** ÙŠØªÙ… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù„Ù‰ Cloudflare

### 2. Ø§Ù„Ø£Ù…Ø§Ù†

- **Ù„Ø§ ØªØ±ÙØ¹:** `.env`, `.dev.vars`, Ø£Ùˆ Ø£ÙŠ Ù…Ù„ÙØ§Øª ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ secrets
- **Ø§Ø³ØªØ®Ø¯Ù…:** Cloudflare Dashboard â†’ Workers â†’ Settings â†’ Variables

### 3. Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª

Ø¹Ù†Ø¯ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙˆØ¯:
1. Ø¹Ø¯Ù‘Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª ÙÙŠ `src/`
2. Ø´ØºÙ‘Ù„ `wrangler deploy`
3. Ø³ÙŠØªÙ… Ø¨Ù†Ø§Ø¡ ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙˆØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹

---

## ğŸ¯ Ø§Ù„Ø®Ù„Ø§ØµØ©

### Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙŠ ØªÙØ±ÙØ¹:

```
âœ… src/index.ts
âœ… src/GameRoom.ts
âœ… src/TournamentRoom.ts
âœ… package.json
âœ… wrangler.toml
âœ… tsconfig.json
```

### Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙŠ Ù„Ø§ ØªÙØ±ÙØ¹:

```
âŒ node_modules/
âŒ dist/
âŒ build/
âŒ .wrangler/
âŒ test/
âŒ *.md
âŒ .env
âŒ .dev.vars
```

---

## ğŸ“š Ù…Ø±Ø§Ø¬Ø¹ Ø¥Ø¶Ø§ÙÙŠØ©

- [Cloudflare Workers Documentation](https://developers.cloudflare.com/workers/)
- [Wrangler CLI Documentation](https://developers.cloudflare.com/workers/wrangler/)
- [Durable Objects Guide](https://developers.cloudflare.com/durable-objects/)

---

**Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:** Ø¯ÙŠØ³Ù…Ø¨Ø± 2025

